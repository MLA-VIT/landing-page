<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta property="og:title" content="MLA-VIT" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="MLA-VIT" />
  <meta property="og:image:secure_url" itemprop="image" content="https://i.ibb.co/7YGpqxz/MLA.png" />
  <meta property="og:url" content="https://www.mlavit.org/" />
  <meta property="og:description"
    content="MLA-VIT, is Malayalam Literary Association Club from VIT, Vellore, India. A group of malayali students forming a community at a home away from home." />
  <meta property="description"
    content="MLA-VIT, is Malayalam Literary Association Club from VIT, Vellore, India. A group of malayali students forming a community at a home away from home." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="images/MLA_logo.png" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="stylesheet" href="styles/stories.css" />
  <script type="text/javascript" src="stories.json"></script>

</head>

<body>
  <div class="container">
    <nav class="navbar">
      <!-- <a href="#" class="nav-logo"><img src="logo.png"></a> -->
      <ul class="nav-menu">
        <li class="nav-item">
          <a href="../index.html" id="home" class="nav-link">HOME</a>
        </li>
        <li class="nav-item">
          <a href="../index.html#board" class="nav-link">BOARD</a>
        </li>
        <li class="nav-item">
          <a href="../index.html#events" class="nav-link">EVENTS</a>
        </li>
        <li class="nav-item">
          <a href="../magazine.html" class="nav-link">MAGAZINES</a>
        </li>
        <li class="nav-item">
          <a href="../newsletter.html" class="nav-link">NEWSLETTERS</a>
        </li>
      </ul>
      <div class="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
    </nav>
  </div>
  <a href="../index.html" id="mobile-home">HOME</a>
  <div class="kadha">
    <img src="images/kadha.png">
  </div>
  <div class="story">
    <a id="right" onclick="next()">></a>
    <a id="left" onclick="prev()">
      <</a>
        <div class="stories" id="single-story">
          <h1 id="title"> </h1>
          <h2 id="author"> </h2>
          <p id="content"> </p>
        </div>
  </div>
  <script>
    //var myStories = JSON.parse(stories);
    let currentStoryIndex = 0;
    var stories;
    fetch("stories.json")
      .then(response => response.json())
      .then(parsed => {
        stories = parsed;
        let storyElement = document.getElementById("single-story");
        console.log(stories);
        if (stories.length > 0) {
          console.log("Length greater than 0");
          storyElement.innerHTML = `<h1 id="title">${stories[0].title}</h1>
            <h2 id="author">${stories[0].author}</h2>
            <p id="content">${stories[0].content}</p>`;
          console.log(storyElement.innerHTML)
        }
      });
    function next() {
      if (stories.length > (currentStoryIndex + 1)) {
        currentStoryIndex += 1;
      } else {
        currentStoryIndex = 0;
      }
      let storyElement = document.getElementById("single-story");
      storyElement.innerHTML = `<h1 id="title">${stories[currentStoryIndex].title}</h1>
          <h2 id="author">${stories[currentStoryIndex].author}</h2>
          <p id="content">${stories[currentStoryIndex].content}</p>`;
    }
    function prev() {
      if (currentStoryIndex > 0) {
        currentStoryIndex -= 1;
      } else {
        currentStoryIndex = stories.length;
      }
      let storyElement = document.getElementById("single-story");
      storyElement.innerHTML = `<h1 id="title">${stories[currentStoryIndex].title}</h1>
        <h2 id="author">${stories[currentStoryIndex].author}</h2>
        <p id="content">${stories[currentStoryIndex].content}</p>`;
    }

  </script>